# ===========================================
# PORTAINER STACK ENVIRONMENT VARIABLES
# Guestbook Application Stack Configuration
# ===========================================

# Database Configuration
MYSQL_ROOT_PASSWORD=Kx9mP2vR8nQ5wE7tY3uI6oL1sA4hG9jB
MYSQL_DATABASE=guestbook
MYSQL_USER=guestuser
MYSQL_PASSWORD=whHBJveMvwjs5a6p

# Database Connection for App
DB_HOST=mariadb
DB_USER=guestuser
DB_PASSWORD=whHBJveMvwjs5a6p
DB_NAME=guestbook

# JWT Configuration
JWT_SECRET_KEY=DeRBC3FDeY8d9nw9WMBwNJ0LpVyvB5ty607r2PHdmQBpqn
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_HOURS=24

# Admin Configuration
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@gcng.de
ADMIN_PASSWORD=whHBJveMvwjs5a6p
ADMIN_ROLE=superuser
ADMIN_IS_SUPERUSER=true

# CORS & Security Configuration (PRODUCTION SECURED)
CORS_ORIGINS=https://guestbook.gcng.de,http://guestbook.gcng.de,http://192.168.2.12:8080,http://localhost:8080
ALLOWED_HOSTS=guestbook.gcng.de,192.168.2.12,localhost,127.0.0.1

# Application Environment (PRODUCTION HARDENED)
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Logging Configuration (PRODUCTION OPTIMIZED)
UVICORN_LOG_LEVEL=info
UVICORN_ACCESS_LOG=true
SQLALCHEMY_ECHO=false
ENABLE_SQL_LOGGING=false
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_LOGGING=true
ENABLE_VALIDATION_LOGGING=false
LOG_FORMAT=json
LOG_TO_CONSOLE=true
LOG_TO_FILE=true

# Security Settings (HARDENED FOR PRODUCTION)
ENABLE_RATE_LIMITING=true
ENABLE_BRUTE_FORCE_PROTECTION=true
MAX_LOGIN_ATTEMPTS=5
LOGIN_BLOCK_DURATION=900
ENABLE_SECURITY_MONITORING=true

# HTTP Security Headers (MISSING HEADERS FROM SECURITY SCAN)
SECURITY_HEADERS_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=()
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self'; connect-src 'self'; frame-ancestors 'none';
STRICT_TRANSPORT_SECURITY=max-age=31536000; includeSubDomains; preload
X_PERMITTED_CROSS_DOMAIN_POLICIES=none

# Volume Paths (anpassen je nach Server)
DB_VOLUME_PATH=/volume2/docker/guestbook/db
UPLOADS_VOLUME_PATH=/volume2/docker/guestbook/uploads

# Docker Image
GUESTBOOK_IMAGE=ghcr.io/baronblk/guestbook-project:4.0.0-secure

# Network Configuration
NETWORK_NAME=guestbook-network

# Port Configuration
APP_PORT=8080
